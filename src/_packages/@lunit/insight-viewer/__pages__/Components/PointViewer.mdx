import { Link } from 'react-router-dom';
import { component, source } from '@handbook/source';
import { Example } from '@handbook/components';
import { InsightViewerPreview } from '@lunit/handbook';

# `<PointViewer>`

`<ContourViewer>`, `<CircleViewer>`와 마찬가지로 `Contour` 데이터를 화면에 그린다.

<Link to="/insight-viewer/contour">`Contour` 데이터를 `Point` Type으로 사용한다.</Link>

`<ContourViewer>` + `<ContourDrawer>` 처럼 분리되어 있지 않고, `<PointViewer>`에서 View 와 Draw를 모두 처리한다.

```ts
export interface PointDrawerProps<T extends Contour> extends InsightViewerGuestProps {
  width: number;
  height: number;
  
  /** Contour 데이터를 상속받은 Annotation 데이터 */
  contours: T[];
  
  /** Mouse Over 등 User Interaction에 의해서 Focus 된 Contour */
  focusedContour: T | null;
  
  /** Draw / Focus / Remove 와 같은 User Interaction을 활성 / 비활성 한다 */
  interact?: boolean;
  
  /**
   * 특정 Contour에 Mouse Over 되었을 때
   * focusedContour를 결정하는데 필요하다
   */
  onFocus?: (contour: T | null) => void;
  
  /** 그리기가 완료되어 새로운 Contour가 발생했을 때 */
  onAdd?: (polygon: Point[], event: MouseEvent) => void;
  
  /** 특정 Contour를 Click 해서 지울때 필요하다 */
  onRemove?: (contour: T) => void;
  
  className?: string;
  
  /** Pin의 모양을 변경하는데 사용할 수 있다 */
  pointPinComponent?: ComponentType<PointPinProps>;
  
  /** Contour 데이터에 따라 Pin을 다르게 하고 싶은 경우 사용할 수 있다 */
  pointPinFunction?: (contour: T) => ComponentType<PointPinProps>;
}
```

<Example example={component('./PointViewer/Basic')}>
  <InsightViewerPreview height={720}/>
</Example>

# Styling

`<ContourViewer>`와 마찬가지로 CSS Variable을 통해서 색상을 변경할 수 있다.

아래 File에서 `--pin-*`의 이름을 가진 항목들에 영향을 받는다.

<Example example={source('../../theme/style')}/>

<Example example={component('./PointViewer/CustomColor')}>
  <InsightViewerPreview height={720}/>
</Example>

`Contour.dataAttrs`나 배열 순서에 따른 Styling은 `<ContourViewer>`와 동일하다.

# Custom Pin

단순 Color 변경만이 아니라, Pin의 형태 자체를 변경해야 하는 경우

`pointPinComponent`나 `pointPinFunction` Props를 사용할 수 있다.

<Example example={component('./PointViewer/CustomPin')}>
  <InsightViewerPreview height={720}/>
</Example>